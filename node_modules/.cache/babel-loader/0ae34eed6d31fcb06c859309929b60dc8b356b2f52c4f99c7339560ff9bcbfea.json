{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lhmg2\\\\Repositorios\\\\fastFrontend\\\\src\\\\components\\\\Biblioteca\\\\Biblioteca.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { Container, Typography, Button } from '@mui/material';\nimport axios from 'axios';\nimport { getAccessToken } from '../LocalStorage/LocalStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Biblioteca = () => {\n  _s();\n  const [BibliotecaData, setBibliotecaData] = useState([]);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    try {\n      const token = getAccessToken();\n      const response = await axios.get('http://localhost:3002/tab-upload/file/tipo/Livro', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setBibliotecaData(response.data);\n      console.log(response.data);\n    } catch (error) {\n      console.error('Erro ao buscar dados:', error);\n    }\n  };\n  const handleDownload = async id => {\n    const bibliotecas = BibliotecaData.find(f => f.id === id);\n    if (bibliotecas) {\n      const response = await fetch(`http://localhost:3002/tab-upload/file/download/${bibliotecas.id}`, {\n        headers: {\n          Authorization: `Bearer ${getAccessToken()}`\n        }\n      });\n      if (!response.ok) {\n        console.error(`Error: ${response.statusText}`);\n        return;\n      }\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${bibliotecas.name}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n    }\n  };\n  const columns = [{\n    field: 'name',\n    headerName: 'Nome do Livro',\n    flex: 1\n  }, {\n    field: 'description',\n    headerName: 'Descrição do Livro',\n    flex: 1\n  }, {\n    field: 'download',\n    headerName: '',\n    renderCell: params => /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => handleDownload(params.row.id),\n      children: \"Baixar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this),\n    width: 110\n  }];\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Biblioteca De Livros Fast Assessoria\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 400,\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(DataGrid, {\n        rows: BibliotecaData,\n        columns: columns,\n        autoPageSize: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(Biblioteca, \"ytbpovHnsSHpE1q5RXbYJFC/Ypo=\");\n_c = Biblioteca;\nexport default Biblioteca;\nvar _c;\n$RefreshReg$(_c, \"Biblioteca\");","map":{"version":3,"names":["React","useEffect","useState","DataGrid","Container","Typography","Button","axios","getAccessToken","jsxDEV","_jsxDEV","Biblioteca","_s","BibliotecaData","setBibliotecaData","fetchData","token","response","get","headers","Authorization","data","console","log","error","handleDownload","id","bibliotecas","find","f","fetch","ok","statusText","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","name","body","appendChild","click","remove","columns","field","headerName","flex","renderCell","params","variant","color","onClick","row","children","fileName","_jsxFileName","lineNumber","columnNumber","width","gutterBottom","style","height","rows","autoPageSize","_c","$RefreshReg$"],"sources":["C:/Users/lhmg2/Repositorios/fastFrontend/src/components/Biblioteca/Biblioteca.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { DataGrid, GridColDef } from '@mui/x-data-grid';\r\nimport { Container, Typography, Button } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { getAccessToken } from '../LocalStorage/LocalStorage';\r\n\r\n \r\n\r\ninterface Bibliotecas {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n  usuario: string;\r\n}\r\n\r\nconst Biblioteca = () => {\r\n  const [BibliotecaData, setBibliotecaData] = useState<Bibliotecas[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const token = getAccessToken();\r\n      const response = await axios.get('http://localhost:3002/tab-upload/file/tipo/Livro', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      setBibliotecaData(response.data);\r\n      console.log(response.data)\r\n    } catch (error) {\r\n      console.error('Erro ao buscar dados:', error);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (id: number) => {\r\n    const bibliotecas = BibliotecaData.find((f: any) => f.id === id);\r\n    if (bibliotecas) {\r\n      const response = await fetch(`http://localhost:3002/tab-upload/file/download/${bibliotecas.id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${getAccessToken()}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        console.error(`Error: ${response.statusText}`);\r\n        return;\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `${bibliotecas.name}.pdf`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      a.remove();\r\n    }\r\n    \r\n  };\r\n  const columns: GridColDef[] = [\r\n    { field: 'name', headerName: 'Nome do Livro', flex: 1 },\r\n    { field: 'description', headerName: 'Descrição do Livro', flex: 1 },\r\n    {\r\n      field: 'download',\r\n      headerName: '',\r\n      renderCell: (params) => (\r\n        <Button variant=\"contained\" color=\"primary\" onClick={() => handleDownload(params.row.id)}>\r\n          Baixar\r\n        </Button>\r\n      ),\r\n      width: 110\r\n    }\r\n  ];\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Biblioteca De Livros Fast Assessoria\r\n      </Typography>\r\n      <div style={{ height: 400, width: '100%' }}>\r\n        <DataGrid rows={BibliotecaData} columns={columns} autoPageSize />\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Biblioteca;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}